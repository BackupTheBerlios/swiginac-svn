<?xml version="1.0" encoding="iso-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>Swiginac - Extending Python with Symbolic Mathematics</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: swiginac_overview.py.html 234 2007-11-29 16:19:01Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="swiginac-extending-python-with-symbolic-mathematics">
<h1 class="title">Swiginac - Extending Python with Symbolic Mathematics</h1>

<p>Ola Skavhaug <a class="footnote-reference" href="#id5" id="id1">[1]</a><a class="footnote-reference" href="#id6" id="id2">[2]</a>   Ondrej Certic  <a class="footnote-reference" href="#id7" id="id3">[3]</a><a class="footnote-reference" href="#id8" id="id4">[4]</a></p>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Simula Research Laboratory</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Dept. of Informatics, University of Oslo</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>Faculty of Mathematics and Physics</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td>Charles University in Prague</td></tr>
</tbody>
</table>
<p>October 19-20 2005, TTI, Chicago</p>
<div class="section" id="ginac">
<h1>GiNaC</h1>
<p><a class="reference external" href="http://www.ginac.de">GiNaC</a> is not a CAS.
GiNaC is a C++ library for applications in need of symbolic manipulation.
<a class="reference external" href="http://www.python.org">Python</a> is such an application.</p>
<p>Features:</p>
<ul class="simple">
<li>Symbols and expressions with arithmetic operations</li>
<li>Multivariate polynomials and rational functions</li>
<li>Matrices and vectors</li>
<li>Linear systems solver</li>
<li>Tayler series expansions</li>
<li>Differentiation and integration</li>
<li>Output C, Python and LaTeX code</li>
<li>...</li>
</ul>
</div>
<div class="section" id="swiginac">
<h1>Swiginac</h1>
<p><a class="reference external" href="http://swiginac.berlios.de/">Swiginac</a> is a Python interface.</p>
<ul class="simple">
<li>New strategy: Manually convert the GiNaC header files to
<a class="reference external" href="http://www.swig.org/">SWIG</a> interface files, and implement a set of typemaps to
make a higher-level interface</li>
<li>A lot, but not all, of the GiNaC classes are now exposed to
Python</li>
<li>Certain GiNaC structures are converted to Python types in the
interface and vice versa</li>
</ul>
</div>
<div class="section" id="symbols">
<h1>Symbols</h1>
<p>Symbols are basic units in Swiginac:</p>
<pre class="literal-block">
from swiginac import *
a = symbol('a', r'\alpha')
b = symbol('b', r'\beta')
print b
u = b + a
u.set_print_context('tex')
print u
</pre>
<p>All expressions in GiNaC are built with symbols. The drawback of
this approach is that the level of abstraction is limited</p>
</div>
<div class="section" id="functions">
<h1>Functions</h1>
<p>Lots of functions are available</p>
<pre class="literal-block">
u = sin(exp(b))
v = tgamma(a+sqrt(b))
</pre>
<pre class="doctest-block">
&gt;&gt;&gt; print u.printlatex()
\sin(\exp(\beta))
&gt;&gt;&gt; print v.printlatex()
\Gamma(\alpha+\sqrt{\beta})
</pre>
<p>All trigonometric and hyperbolic functions are implemented in
GiNaC, most of them interfaced in swiginac</p>
</div>
<div class="section" id="symbolic-differentiation">
<h1>Symbolic differentiation</h1>
<p>Objects have the method diff for differentiation:</p>
<pre class="literal-block">
x = symbol('x')
y = symbol('y')

P = x**5 + x**2 + y
P.diff(x, 1)         #-&gt; 5*x**4+2*x
P.diff(x, 2)         #-&gt; 2+20*x**3
u = sin(exp(x))
u.diff(x,2)          #-&gt; -sin(exp(x))*exp(x)**2+exp(x)*cos(exp(x))
</pre>
</div>
<div class="section" id="matrices">
<h1>Matrices</h1>
<pre class="literal-block">
mat1 = matrix(2,2)   # Two by two matrix
mat1[0,0] = v
mat1[1,1] = u
mat1a = diag_matrix([u,v]) # Alternative definition
mat1 == mat1a              # -&gt; True
mat2 = matrix([[sqrt(a),0],[1.0, cosh(b)]])
</pre>
<pre class="doctest-block">
&gt;&gt;&gt; print mat1
[[tgamma(a+b**(1/2)),0],[0,sin(exp(x))]]
&gt;&gt;&gt; print mat1.printlatex()
\left(\begin{array}{cc}\Gamma(\alpha+\sqrt{\beta})&amp;0\\0&amp;\sin(\exp(x))\end{array}\right)
&gt;&gt;&gt; print mat2.printc()
[[pow(a,(1.0/2.0)),0.0],[1.0000000000000000e+00,cosh(b)]]
</pre>
</div>
<div class="section" id="simple-integral-support">
<h1>Simple integral support</h1>
<p>We can construct integral objects and integrate either symbolically
or numerically:</p>
<pre class="literal-block">
x = symbol('x')
integ = integral(x, 0, 1, x*x)

print integ                #-&gt; [integral object]
print integ.printlatex()   #-&gt; \int_{0}^{1} dx\,x^{2}
print integ.eval_integ()   #-&gt; 1/3
print integ.evalf()        #-&gt; 0.33333333333333333332
</pre>
</div>
<div class="section" id="substitution">
<h1>Substitution</h1>
<p>Algebraic objects in expressions can be substituted:</p>
<pre class="literal-block">
u = sin(exp(b))
v = u.subs(exp(b)==sqrt(a)) # v = sin(a**(1/2))
w = v.subs(a==2).evalf()    # Convert sin(2**(1/2)) to numeric
wf = float(w)               # Convert to Python double
</pre>
<pre class="doctest-block">
&gt;&gt;&gt; print v, w, wf
sin(a**(1/2)) 0.98776594599273552706 0.987765945993
</pre>
<p>Sub-expressions do not match:</p>
<pre class="literal-block">
x = symbol('x'); y = symbol('y'); z = symbol('z')
u = sin(x+y+z)
v = u.subs(x+y==4)             # v = sin(x+y+z)
w = u.subs([x==1, y==2, z==3]) # Same as u.subs(x+y+z==6)
</pre>
<pre class="doctest-block">
&gt;&gt;&gt; print u, v, w
sin(y+x+z) sin(y+x+z) sin(6)
</pre>
</div>
<div class="section" id="solving-linear-systems">
<h1>Solving linear systems</h1>
<p><tt class="docutils literal"><span class="pre">lsolve</span></tt> solves linear systems:</p>
<pre class="literal-block">
x = symbol('x')
y = symbol('y')

solution = lsolve([3*x + 5*y == 2, 5*x+y == -3], [x,y])
</pre>
<pre class="doctest-block">
&gt;&gt;&gt; print solution
[x==-17/22, y==19/22]
</pre>
</div>
<div class="section" id="taylor-series-expansion">
<h1>Taylor series expansion</h1>
<p>Expressions can expand themselves as a Taylor series:</p>
<pre class="literal-block">
x =symbol(&quot;x&quot;)
taylor = sin(x).series(x==0, 8)
</pre>
<pre class="doctest-block">
&gt;&gt;&gt; print taylor
1*x+(-1/6)*x**3+1/120*x**5+(-1/5040)*x**7+Order(x**8)
</pre>
</div>
</div>
<div class="footer">
<hr class="footer" />
<a class="reference external" href="swiginac_overview.py.txt">View document source</a>.

</div>
</body>
</html>
